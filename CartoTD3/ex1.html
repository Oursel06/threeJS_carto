<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TP3 exo1</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    
    <style>
        #porte {
            fill: #080800;
        }
        #porte:hover {
            fill: #fd9330;
        }
        .day {
            fill: #0CC1F3;
        }
        .night {
            fill: #363641;
        }
    </style>

</head>
<body>
    <h2>Partie Canvas</h2>
    <canvas id="canvas" width="250" height="200">
        <div>
            <img id="prairie" src="img/prairie.jpg" width="150" height="150" />
        </div>
    </canvas>
    <h2>Partie SVG</h2>
    <div>
        <svg width="500" height="300">
            <rect id="ciel" x="0" y="0" width="500" height="200" class="day" />
            <rect x="0" y="200" width="500" height="100" style="fill:#20fc57;" />

            <polygon points="0,200 75,50 150,200" style="fill:#ffd573;" />
            <polygon points="145,200 180,100 220,200" style="fill:#ffd573;" />
            <polygon points="205,200 280,75 355,200" style="fill:#ffd573;" />
            <polygon points="340,200 420,69 500,200" style="fill:#ffd573;" />

            <circle id="soleil" cx="350" cy="50" r="30" style="fill:#FFFF00;" />

            <rect x="25" y="215" width="80" height="75" style="fill:#a19e90" />
            <rect id="porte" x="40" y="245" width="35" height="45" />

            <polygon points="25,215 65,180 105,215" style="fill:#FF0000;" />
        </svg>
    </div>
</body>
</html>

<script>
    let isNight = false;
    $(document).ready(function () {
        //1.1 Partie canvas
        drawCanvas();
        // Fonction ciel qui change de couleur
        $('#soleil').click(function () {
            // console.log(isNight);
            if (!isNight) {
                isNight = true;
                document.getElementById('ciel').className.baseVal = 'night';
            } else {
                // console.log(isNight);
                isNight = false;
                document.getElementById('ciel').className.baseVal = 'day';
            }
        });
    });
    function drawCanvas() {
        var canvas = document.getElementById("canvas");
        if (canvas.getContext) {
            var ctx = canvas.getContext("2d");
            ctx.drawImage(document.getElementById('prairie'), 50, 50, 3840, 2160, 0, 0, 160, 160);
            //Rectangle
            ctx.fillStyle = 'rgb(150, 150, 150)';
            ctx.fillRect(120, 120, 30, 30);
            //Porte
            ctx.fillStyle = 'rgb(200, 120, 0)';
            ctx.fillRect(125, 130, 10, 20);
            // Triangle
            ctx.fillStyle = 'rgb(200,100,100)';
            ctx.beginPath();
            ctx.moveTo(120, 120);
            ctx.lineTo(135, 100);
            ctx.lineTo(150, 120);
            ctx.fill();
            ctx.closePath();
            //Cercle
            ctx.fillStyle = 'rgb(255,255,0)';
            ctx.beginPath();
            ctx.arc(100, 20, 10, 0, Math.PI * 2, true);
            ctx.fill();
            ctx.closePath();
        }
    }
</script>